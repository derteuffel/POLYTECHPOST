<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>formulaire d'ajout d'un utilisateur</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</head>
<body>
<div class=" container " style="padding: 3rem;">
    <div class="row ">
        <div class="col-12 col-sm-6 col-lg-8" style="margin-left: 5rem">
            <h2>Formulaire de modification d'un utilisateur</h2>
            <div class="text-center">
                <img th:src="${user.avatar}" style="width: 150px;height: 150px; margin-top: 5rem" class="rounded-circle"alt="">
            </div>
            <br>
            <form method="post" th:object="${user}" th:action="@{/user/update/{idUser}(idUser=${user.idUser})}" enctype="multipart/form-data">
            <div class="form-group">
                <span th:if="${#fields.hasErrors('nom')}" th:errors="*{nom}" style="color: red"></span>
                <label for="nom">Nom:</label>
                <input type="text" class="form-control" id="nom" placeholder="Entrer votre nom" th:field="*{nom}">
            </div>
            <div class="form-group">
                <span th:if="${#fields.hasErrors('prenom')}" th:errors="*{prenom}" style="color: red"></span>
                <label for="prenom">Prenom:</label>
                <input type="text" class="form-control" id="prenom" placeholder="Entrer votre prenom" th:field="*{prenom}">
            </div>
            <div class="form-group">
                <span th:if="${#fields.hasErrors('email')}" th:errors="*{email}" style="color: red"></span>
                <label for="email">Email:</label>
                <input type="email" class="form-control" id="email" placeholder="Enter email" th:field="*{email}">
            </div>
                <div class="form-group">
                    <span th:if="${#fields.hasErrors('matricule')}" th:errors="*{matricule}" style="color: red"></span>
                    <label for="matricule">Matricule:</label>
                    <input type="text" class="form-control" id="matricule" placeholder="Entrer votre matricule" th:field="*{matricule}">
                </div>
            <div class="form-group">
                <span th:if="${#fields.hasErrors('telephone')}" th:errors="*{telephone}" style="color: red"></span>
                <label for="telephone">Téléphone:</label>
                <input type="text" class="form-control" id="telephone" placeholder="Entrer votre numero de téléphone" th:field="*{telephone}">
            </div>
            <div class="form-group" style="display: none">
                <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}" style="color: red"></span>
                <label for="password">Mot de passe:</label>
                <input type="text" class="form-control" id="password" placeholder="Enter password" th:field="*{password}">
            </div>
                <div class="form-group">
                    <label for="sel1">Choisir un type:</label>
                    <select class="form-control" id="sel1" th:field="*{type}">
                        <option value="">Selection....</option>
                        <option value="Etudiant">Etudiant</option>
                        <option value="Administration">Adminitration</option>
                        <option value="Enseignant">Enseignant</option>
                    </select>
                </div>
            <div class="custom-file">
                <input type="file" class="custom-file-input" id="customFile" name="file">
                <label class="custom-file-label" for="customFile">Choisir une photo</label>
                <input type="text" th:field="*{avatar}" style="display: none">
            </div>
                <div class="row">
                    <div class="col-12 col-sm-6 col-lg-6">
                        <a th:href="@{/user/detail/}+${user.idUser}" class="btn btn-danger mt-3" style="width: 100%">Retour</a>
                    </div>
                    <div class="col-12 col-sm-6 col-lg-6">
                        <button type="submit" class="btn btn-primary mt-3" style="width: 100%">Validé</button>
                    </div>
                </div>

        </form>
        </div>
    </div>
</div>
</body>
</html>
